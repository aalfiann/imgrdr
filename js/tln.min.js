"use strict";var TLN={eventList:{},update_line_numbers:function(e,t){var n=e.value.split("\n").length-t.children.length;if(0<n){for(var r=document.createDocumentFragment();0<n;){var l=document.createElement("span");l.className="tln-line",r.appendChild(l),n--}t.appendChild(r)}for(;n<0;)t.removeChild(t.lastChild),n++},append_line_numbers:function(e){var t=document.getElementById(e);if(null==t)return console.warn("[tln.js] Couldn't find textarea of id '"+e+"'");if(-1!=t.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+e+"' is already numbered");t.classList.add("tln-active"),t.style={};var n=document.createElement("div");n.className="tln-wrapper",t.parentNode.insertBefore(n,t),TLN.update_line_numbers(t,n),TLN.eventList[e]=[];for(var r,l,a=["propertychange","input","keydown","keyup"],i=(r=t,l=n,function(e){(10!=+r.scrollLeft||37!=e.keyCode&&37!=e.which&&"ArrowLeft"!=e.code&&"ArrowLeft"!=e.key)&&36!=e.keyCode&&36!=e.which&&"Home"!=e.code&&"Home"!=e.key&&13!=e.keyCode&&13!=e.which&&"Enter"!=e.code&&"Enter"!=e.key&&"NumpadEnter"!=e.code||(r.scrollLeft=0),TLN.update_line_numbers(r,l)}),o=a.length-1;0<=o;o--)t.addEventListener(a[o],i),TLN.eventList[e].push({evt:a[o],hdlr:i});for(var s,d,c=["change","mousewheel","scroll"],u=(s=t,d=n,function(){d.scrollTop=s.scrollTop}),v=c.length-1;0<=v;v--)t.addEventListener(c[v],u),TLN.eventList[e].push({evt:c[v],hdlr:u})},remove_line_numbers:function(e){var t=document.getElementById(e);if(null==t)return console.warn("[tln.js] Couldn't find textarea of id '"+e+"'");if(-1==t.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+e+"' isn't numbered");t.classList.remove("tln-active");var n=t.previousSibling;if("tln-wrapper"==n.className&&n.remove(),TLN.eventList[e]){for(var r=TLN.eventList[e].length-1;0<=r;r--){var l=TLN.eventList[e][r];t.removeEventListener(l.evt,l.hdlr)}delete TLN.eventList[e]}}};