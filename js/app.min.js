!function(){var t=new FormValidation,n=new FormValidation;function r(e,t,n){var r=document.createElement("div");r.setAttribute("class",t),r.innerHTML=n;var o=document.getElementById(e);o.childNodes[0]&&o.removeChild(o.childNodes[0]),o.style.display="block",o.appendChild(r)}function o(e){var t=document.getElementById(e).value;return!(0<(t=t.trim()).length)}function e(e){if(document.getElementById(e).reset(),"form-source"===e){document.getElementById("result-form-source").style.display="none",document.getElementById("msg").style.display="none";var t=document.querySelectorAll(".validate-error"),n=t.length;if("none"===document.getElementById("error-content-link").style.display)for(var r=0;r<n;r++)t[r].classList.remove("validate-error");else for(r=0;r<n-1;r++)t[r].classList.remove("validate-error")}"form-link"===e&&(document.getElementById("result-form-link").style.display="none",document.getElementById("msg-link").style.display="none",document.getElementById("error-content-link").classList.remove("validate-error"))}t.rules({"content-cover":{required:!0,message:"Link for image cover is required!",regex:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,errorPlace:"error-content-cover",errorAddClass:{"error-content-cover":"validate-error"}},"content-title":{required:!0,message:"Title must be min 3-250 chars!",minLength:3,maxLength:250,errorPlace:"error-content-title",errorAddClass:{"error-content-title":"validate-error"}},"content-chapter":{required:!1,message:"Chapter must be a positive number!",regex:/^[0-9]/,errorPlace:"error-content-chapter",errorAddClass:{"error-content-chapter":"validate-error"}},"content-per-page":{required:!1,message:"Item per page must be a positive number!",regex:/^[0-9]/,errorPlace:"error-content-per-page",errorAddClass:{"error-content-per-page":"validate-error"}},"content-backlink":{required:!1,message:"Wrong format link!",regex:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,errorPlace:"error-content-backlink",errorAddClass:{"error-content-backlink":"validate-error"}},"content-download":{required:!1,message:"Wrong format link!",regex:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,errorPlace:"error-content-download",errorAddClass:{"error-content-download":"validate-error"}},"content-images":{required:!0,message:"Images data is required!",errorPlace:"error-content-images",errorAddClass:{"error-content-images":"validate-error"}}}),n.rules({"content-link":{required:!0,message:"Link of your json source is required!",regex:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,errorPlace:"error-content-link",errorAddClass:{"error-content-link":"validate-error"}}}),document.getElementById("generate-source").addEventListener("click",function(){!function(){if(t.validate().isValid()){r("msg","msg","<b>Generate Success!</b><br>Upload this json source into your webserver.");var e={};o("content-cover")||(e.cover=document.getElementById("content-cover").value.trim()),o("content-title")||(e.title=document.getElementById("content-title").value.trim()),o("content-origin-title")||(e.original=document.getElementById("content-origin-title").value.trim()),o("content-genre")||(e.genre=document.getElementById("content-genre").value.trim()),o("content-author")||(e.author=document.getElementById("content-author").value.trim()),o("content-chapter")||(e.chapter=document.getElementById("content-chapter").value.trim()),o("content-release")||(e.release_date=document.getElementById("content-release").value.trim()),o("content-translator")||(e.translator=document.getElementById("content-translator").value.trim()),o("content-status")||(e.status=document.getElementById("content-status").value.trim()),o("content-per-page")||(e.item_per_page=document.getElementById("content-per-page").value.trim()),o("content-backlink")||(e.backlink=document.getElementById("content-backlink").value.trim()),o("content-download")||(e.download=document.getElementById("content-download").value.trim()),o("content-description")||(e.description=document.getElementById("content-description").value.trim()),o("content-images")||(e.images=document.getElementById("content-images").value.trim().split(/\n/)),document.getElementById("result-source").value=JSON.stringify(e,null,2),document.getElementById("result-form-source").style.display="block",document.getElementById("result-source").select()}else document.getElementById("result-form-source").style.display="none",r("msg","msg-error","<b>Failed to Generate!</b><br>Some fields are required!")}()}),document.getElementById("generate-source-reset").addEventListener("click",function(){e("form-source")}),document.getElementById("content-cover").addEventListener("blur",function(){t.element("content-cover").validate()}),document.getElementById("content-title").addEventListener("blur",function(){t.element("content-title").validate()}),document.getElementById("content-chapter").addEventListener("blur",function(){t.element("content-chapter").validate()}),document.getElementById("content-per-page").addEventListener("blur",function(){t.element("content-per-page").validate()}),document.getElementById("content-backlink").addEventListener("blur",function(){t.element("content-backlink").validate()}),document.getElementById("content-download").addEventListener("blur",function(){t.element("content-download").validate()}),document.getElementById("content-images").addEventListener("blur",function(){t.element("content-images").validate()}),document.getElementById("generate-link").addEventListener("click",function(){!function(){if(n.validate().isValid()){var e=encodeURIComponent(TextObfuscator.encode(Crypto.encode(document.getElementById("content-link").value),3));document.getElementById("result-link").value=window.location.href+"view?content="+e,r("msg-link","msg","<b>Generate Success!</b><br>Your content is ready at this link."),document.getElementById("result-form-link").style.display="block",document.getElementById("result-link").select()}else document.getElementById("result-form-link").style.display="none",r("msg-link","msg-error","<b>Failed to Generate!</b><br>Some fields are required!")}()}),document.getElementById("generate-link-reset").addEventListener("click",function(){e("form-link")}),document.getElementById("content-link").addEventListener("blur",function(){n.element("content-link").validate()}),document.getElementById("btnMore").addEventListener("click",function(){var e=document.getElementById("more-info");"none"===e.style.display?e.style.display="inline":e.style.display="none"}),document.getElementById("copyrightyear").innerHTML=(new Date).getFullYear(),document.getElementById("website").innerHTML=window.location.href}();